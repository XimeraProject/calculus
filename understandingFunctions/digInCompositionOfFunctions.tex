\documentclass{ximera}

\input{../preamble.tex}

\outcome{Find the domain and range of a function.}
\outcome{Distinguish between functions by considering their domains.}
\outcome{Perform basic operations and compositions on functions.}
\outcome{Work with piecewise defined functions.}
\outcome{Recognize different representations of the same function.}

\title[Dig-In:]{Compositions of functions}
\begin{document}
\begin{abstract}
  We discuss compositions of functions.
\end{abstract}
\maketitle


Given two functions, we can compose them. Let's give an example in a
``real context.''

\begin{example}
  Let
  \[
  g(m) = \text{the amount of gas one can buy with $m$ dollars,}
  \]
  and let
  \[
  f(g) = \text{how far one can drive with $g$ gallons of gas.}
  \]
  What does $f(g(m))$ represent in this setting?
  \begin{explanation}
    With $f(g(m))$ we first relate how far one can drive with
    $\answer[given]{g}$ gallons of gas, and this in turn is determined
    by how much money $\answer[given]{m}$ one has. Hence $f(g(m))$ represents how far
    one can drive with $\answer[given]{m}$ dollars.
  \end{explanation}
\end{example}

Composition of functions can be thought of as putting one function
inside another.  We use the notation
\[
(f\circ g)(x) = f(g(x)).
\]
\begin{warning}
  The composition $f\circ g$ only makes sense if
  \[
  \{\text{the range of $g$}\}
  \text{ is contained in or equal to }
  \{\text{the domain of $f$}\}
  \]
\end{warning}
In other words, the domain of a composite function $f\circ g$ is the set of those inputs $x$ in the domain of $g$ for which $g(x)$ is in the domain of $f$. 

\begin{example}
 Suppose we have functions $f$ and $g$ with:
\begin{align*}
  f(x)&={{x}^{2}}+5x+4 &&\text{for $x$ in $(-\infty, \infty)$,}\\
  g(x)&= x+7 &&\text{for $x$ in $(-\infty, \infty)$.}\\
\end{align*}
Find the formula for $f(g(x))$ and state its domain.
\begin{explanation}
  The range of $g$ is $(-\infty, \infty)$, which is equal to the
  domain of $f$. This means the domain of $f\circ g$ is $(-\infty, \infty)$, since for any $x$ in $(-\infty, \infty)$, 
  the value $g(x)$ is defined and will be in the domain of $f$. 
  Next, we substitute $x+7$ for each instance of $\answer[given]{x}$ found
  in
  \[
  f(x)={{x}^{2}}+5x+4
  \]
  and so
  \begin{align*}
  f(g(x)) &=f(x+7)\\
  &=\answer[given]{{{(x+7)}^{2}}+5(x+7)+4}.
  \end{align*}
\end{explanation}
\end{example}

Now let's try an example with a more restricted domain.

\begin{example}
 Suppose we have functions $f$ and $g$ with:
\begin{align*}
  f(x)&=x^2 &&\text{for $x$ in  $(-\infty, \infty)$,}\\
  g(x)&= \sqrt{x} &&\text{for $x > 0$.}\\
\end{align*}
Find a formula for $f(g(x))$ and state its domain.
\begin{explanation}
  The domain of $g$ is $(0, \infty)$. From this we can see that the
  range of $g$ is the interval  $\left( \answer[given]{0},  \infty \right)$. This is contained
  in the domain of $f$.
  This means that the domain of $f\circ g$ is $(0, \infty)$.  
  
  Next, we substitute $\answer[given]{\sqrt{x}}$ for each instance of $x$ found in
  \[
  f(x)={{x}^{2}}
  \]
  and so
  \begin{align*}
  f(g(x))&=f(\sqrt{x})\\
  &=\left(\sqrt{x}\right)^2.
  \end{align*}
  We can summarize our results as a piecewise function, which
  looks somewhat interesting:
  \[
  (f\circ g)(x) = 
  \begin{cases}
    x & \text{if $x > 0$}\\
   \text{undefined} &\text{otherwise}. 
  \end{cases}
  \]
\end{explanation}
\end{example}


\begin{example}
 Suppose we have functions $f$ and $g$ with:
\begin{align*}
  f(x)&=\sqrt{x} &&\text{for $x > 0$,}\\
  g(x)&= x^2 &&\text{for $x$ in $(-\infty, \infty)$.}
\end{align*}
Find the formula for $f(g(x))$ and state its domain.
\begin{explanation}
  While the domain of $g$ is $(-\infty, \infty)$, its range is only
  $(0, \infty)$. This is exactly the domain of $f$. 
  That means for any $x$ in $(-\infty, \infty)$, the value of $g(x)$ is in $(0,\infty)$ which means it lies in the
  domain of $f$.
  This means that the domain of $f\circ g$ is $(-\infty, \infty)$. %%BADBAD Explain more
  Now we may substitute $\answer[given]{x^2}$ for each instance of
  $\answer[given]{x}$ found in
  \[
  f(x)=\sqrt{x}
  \]
  and so
  \begin{align*}
  f(g(x))&=f(x^2)\\
  &=\sqrt{x^2},\\
  &=|x|.
  \end{align*}
\end{explanation}
\end{example}

Compare and contrast the previous two examples.  We used the same
functions for each example, but composed them in different ways.  The resulting
compositions are not only different, they have different domains! When finding the composition of two different functions
remember that the order matters!



\end{document}
